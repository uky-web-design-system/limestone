{"version":3,"sources":["SlabSeries.js"],"names":["SlabSeries","el","props","rootEl","bind","resizing","component","firstElementChild","dataset","slabseriesActive","nextLinks","querySelectorAll","Array","from","forEach","linkEl","addEventListener","event","advance","preventDefault","window","clearTimeout","setTimeout","fixScroll","currentSlab","querySelector","nextSlab","nextElementSibling","advanceTo","activeSlab","slab","scrollIntoView"],"mappings":";;;;;;IAAMA,U;AAEF,wBAAYC,EAAZ,EAA4B;AAAA,YAAZC,KAAY,uEAAJ,EAAI;;AAAA;;AACxB,aAAKC,MAAL,GAAcF,EAAd;AACA,aAAKG,IAAL,CAAU,KAAKD,MAAf;AACA,aAAKE,QAAL;AACH;;;;6BAEIJ,E,EAAI;AACL,gBAAMK,YAAY,IAAlB;;AAEA;AACAA,sBAAUH,MAAV,CAAiBI,iBAAjB,CAAmCC,OAAnC,CAA2CC,gBAA3C,GAA8D,IAA9D;AACA;AACA,gBAAIC,YAAYJ,UAAUH,MAAV,CAAiBQ,gBAAjB,CAAkC,sBAAlC,CAAhB;AACAC,kBAAMC,IAAN,CAAWH,SAAX,EAAsBI,OAAtB,CAA8B,kBAAU;AACpCC,uBAAOC,gBAAP,CAAwB,OAAxB,EAAiC,UAASC,KAAT,EAAe;AAC5CX,8BAAUY,OAAV;AACAD,0BAAME,cAAN;AACH,iBAHD;AAIA,uBAAOF,KAAP;AACD,aANH;;AAQAG,mBAAOJ,gBAAP,CAAwB,QAAxB,EAAkC,YAAU;AACxC,oBAAIV,UAAUD,QAAd,EAAuB;AAACgB,iCAAaf,UAAUD,QAAvB;AAAiC;AACzDC,0BAAUD,QAAV,GAAqBiB,WAAWhB,UAAUiB,SAAV,EAAX,EAAiC,GAAjC,CAArB;AACH,aAHD;AAKH;;;kCAEQ;AACL,gBAAMjB,YAAY,IAAlB;AACA,gBAAIkB,cAAclB,UAAUH,MAAV,CAAiBsB,aAAjB,CAA+B,iCAA/B,CAAlB;AAAA,gBACAC,QADA;;AAGA,gBAAIF,YAAYG,kBAAhB,EAAmC;AAC/BD,2BAAWF,YAAYG,kBAAvB;AACH,aAFD,MAEO;AACHD,2BAAWpB,UAAUH,MAAV,CAAiBI,iBAA5B;AACH;AACDD,sBAAUsB,SAAV,CAAoBF,QAApB;AACH;;;kCAESzB,E,EAAG;AACT,gBAAMK,YAAY,IAAlB;;AAEA,gBAAIuB,aAAavB,UAAUH,MAAV,CAAiBQ,gBAAjB,CAAkC,iCAAlC,CAAjB;AACAC,kBAAMC,IAAN,CAAWgB,UAAX,EAAwBf,OAAxB,CAAgC,gBAAQ;AACpCgB,qBAAKtB,OAAL,CAAaC,gBAAb,GAAgC,KAAhC;AACH,aAFD;;AAIAR,eAAGO,OAAH,CAAWC,gBAAX,GAA8B,IAA9B;AACAR,eAAG8B,cAAH,CAAkB,KAAlB;AACH;;;kCAESd,K,EAAM;AACZ,gBAAMX,YAAY,IAAlB;AACA,mBAAO,YAAU;AACbA,0BAAUH,MAAV,CAAiBsB,aAAjB,CAA+B,iCAA/B,EAAkEM,cAAlE,CAAiF,KAAjF;AACA,uBAAO,IAAP;AACH,aAHD;AAIH","file":"SlabSeries.js","sourcesContent":["class SlabSeries {\n\n    constructor(el, props = {}) {\n        this.rootEl = el;\n        this.bind(this.rootEl);\n        this.resizing;\n    }\n\n    bind(el) {\n        const component = this;\n\n        //set state\n        component.rootEl.firstElementChild.dataset.slabseriesActive = true;\n        //bind to each 'next' link\n        var nextLinks = component.rootEl.querySelectorAll('.slab-series__next a');\n        Array.from(nextLinks).forEach(linkEl => {\n            linkEl.addEventListener('click', function(event){\n                component.advance();\n                event.preventDefault();\n            });\n            return event;\n          });\n\n        window.addEventListener('resize', function(){\n            if (component.resizing){clearTimeout(component.resizing)};\n            component.resizing = setTimeout(component.fixScroll(),100);\n        });\n\n    }\n\n    advance(){\n        const component = this;\n        var currentSlab = component.rootEl.querySelector('[data-slabseries-active=\"true\"]'),\n        nextSlab;\n    \n        if (currentSlab.nextElementSibling){\n            nextSlab = currentSlab.nextElementSibling;\n        } else {\n            nextSlab = component.rootEl.firstElementChild;\n        }\n        component.advanceTo(nextSlab);\n    }\n\n    advanceTo(el){\n        const component = this;\n\n        var activeSlab = component.rootEl.querySelectorAll('[data-slabseries-active=\"true\"]');\n        Array.from(activeSlab ).forEach(slab => {\n            slab.dataset.slabseriesActive = false;\n        });\n\n        el.dataset.slabseriesActive = true;\n        el.scrollIntoView(false);\n    }\n\n    fixScroll(event){\n        const component = this;\n        return function(){\n            component.rootEl.querySelector('[data-slabseries-active=\"true\"]').scrollIntoView(false);\n            return true;\n        }\n    }\n}"]}